<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <record id="nantian_erp_resume_interview_default_action" model="ir.actions.act_window">
            <field name="name">简历页面面试</field>
            <field name="res_model">nantian_erp.interview</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="nantian_erp_interview_tree" />
            <field name="context">{'search_default_resume_id': [active_id], 'default_resume_id': active_id}</field>
        </record>

        <menuitem id="nantian_erp_resume_root_menu" parent="nantian_recruitment_2_level_menu" name="简历" />
        <record model="ir.ui.view" id="nantian_erp_resume_form">
            <field name="name">nantian_resume.form</field>
            <field name="model">nantian_erp.resume</field>
            <field name="arch" type="xml">
                <form string="reusme" >
                    <header>
                         <!--<button name="agree" type="object" states='examineing' string="通过"  class="oe_highlight" />-->
                         <button name="disagree" type="object" states='简历库中' string="淘汰"  class="oe_highlight" />
                         <button name="consider" type="object" states='简历库中' string="暂存"  class="oe_highlight" />
                         <field name="state" widget="statusbar"/>
                    </header>
                    <sheet>
                         <div class="oe_title">
                                <label for="name" class="oe_edit_only"/>
                                <h1><field name="name" class="oe_inline"/></h1>
                         </div>
                        <div class="oe_right" name="buttons">
                            <button class="oe_inline oe_stat_button" type="action" name="%(nantian_erp_resume_interview_default_action)d" icon="fa-star" string="面试"/>
                            <button  class="oe_stat_button" icon="fa-book" string="简历"/>
                        </div>
                        <group>
                            <group>
                                <field name="gender" />
                                <field name="age" />
                                <field name="work_age" />
                                <field name="education" />
                                <field name="phone" />
                            </group>
                            <group>
                                <field name="email" />
                                <field name="job" />
                            </group>
                        </group>
                        <!--<group>-->
                             <!--<field name="interview_ids" string="面试记录">-->
                                 <!--<tree string="interview" editable="bottom" create="false">-->
                                     <!--<field name="recruitment_id" string="招聘岗位" readonly="True"/>-->
                                     <!--<field name="interviewer" string="面试官" readonly="True"/>-->
                                     <!--<field name="review" string="面试评价" attrs="{'readonly':[('interviewer','!=','uid')]}"/>-->
                                     <!--<field name="result" string="面试结果" readonly="True"/>-->
                                     <!--<field name="write_date" />-->
                                 <!--</tree>-->
                            <!--</field>-->
                        <!--</group>-->
                    </sheet>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="nantian_erp_pending_resume_form">
            <field name="name">nantian_pending_resume.form</field>
            <field name="model">nantian_erp.resume</field>
            <field name="arch" type="xml">
                <form string="reusme" >
                    <header>
                         <button name="agree" type="object" states='面试中' string="通过"  class="oe_highlight" />
                         <button name="disagree" type="object" states='面试中' string="淘汰"  class="oe_highlight" />
                         <button name="consider" type="object" states='面试中' string="暂存"  class="oe_highlight" />
                         <field name="state" widget="statusbar"/>
                    </header>
                    <sheet>
                         <div class="oe_title">
                                <label for="name" class="oe_edit_only"/>
                                <h1><field name="name" class="oe_inline" readonly="True"/></h1>
                         </div>
                         <div class="oe_right" name="buttons">
                            <button class="oe_inline oe_stat_button" type="action" name="%(nantian_erp_resume_interview_default_action)d" icon="fa-star" string="面试"/>
                            <!--<button  class="oe_stat_button" icon="fa-book" string="简历"/>-->
                         </div>
                         <group>
                             <group>
                                 <field name="gender" readonly="True"/>
                                 <field name="age" readonly="True"/>
                                 <field name="work_age" readonly="True"/>
                                 <field name="education" readonly="True"/>
                                 <field name="phone" readonly="True"/>
                             </group>
                             <group>
                                 <field name="email" readonly="True"/>
                                 <field name="job" readonly="True"/>

                             </group>
                         </group>
                         <group>
                             <field name="interview_ids" string="面试记录">
                                 <tree string="interview" editable="bottom" create="false">
                                     <field name="recruitment_id" string="招聘岗位" readonly="True"/>
                                     <field name="interviewer" string="面试官" readonly="True"/>
                                     <field name="review" string="面试评价" attrs="{'readonly':[('interviewer','=','uid')]}"/>
                                     <field name="result" string="面试结果" readonly="True"/>
                                     <field name="date" string="面试时间" readonly="True"/>
                                 </tree>
                             </field>
                         </group>
                         <group>
                             <field name="offer_information_id" string="offer 信息" >
                                 <tree create="false">
                                    <field name="resume_id" string="姓名"/>
                                    <field name="phone" string="电话"/>
                                    <field name="email" string="邮箱"/>
                                    <field name="entrytime" string="办理入职时间"/>
                                    <field name="entry_recruitment_id" string="入职岗位"/>
                                    <field name="job_level" string="岗位级别"/>
                                    <field name="recruitment_id" string="招聘岗位"/>
                                 </tree>
                             </field>
                         </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="nantian_erp_resume_tree">
            <field name="name">nantian_resume.tree</field>
            <field name="model">nantian_erp.resume</field>
            <field name="arch" type="xml">
                <tree >
                    <field name="name" string="姓名"/>
                    <field name="gender" string="性别"/>
                    <field name="age" string="年龄"/>
                    <field name="work_age" string="工作年限"/>
                    <field name="education" string="学历"/>
                    <field name="phone" string="电话"/>
                    <field name="interviewer" string="当前处理人"/>
                </tree>
            </field>
        </record>

        <record id="nantian_erp_resume_action" model="ir.actions.act_window">
            <field name="name">简历</field>
            <field name="res_model">nantian_erp.resume</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('state','=','简历库中')]</field>
            <field name="view_id" ref="nantian_erp_resume_tree" />
        </record>
        <record id="nantian_erp_resume_tree_action" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
             <field name="sequence" eval="1"/>
            <field name="view_id" ref="nantian_erp_resume_tree" />
            <field name="act_window_id" ref="nantian_erp_resume_action" />
        </record>
        <record id="nantian_erp_resume_form_action" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence" eval="10"/>
            <field name="view_id" ref="nantian_erp_resume_form" />
            <field name="act_window_id" ref="nantian_erp_resume_action" />
        </record>
        <record id="nantian_erp_interviewing_resume_action" model="ir.actions.act_window">
            <field name="name">面试中的简历</field>
            <field name="res_model">nantian_erp.resume</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('state','=','面试中')]</field>
            <field name="view_id" ref="nantian_erp_resume_tree" />
        </record>
        <record id="nantian_erp_interviewing_resume_tree_action" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
             <field name="sequence" eval="1"/>
            <field name="view_id" ref="nantian_erp_resume_tree" />
            <field name="act_window_id" ref="nantian_erp_interviewing_resume_action" />
        </record>
        <record id="nantian_erp_interviewing_resume_form_action" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence" eval="10"/>
            <field name="view_id" ref="nantian_erp_pending_resume_form" />
            <field name="act_window_id" ref="nantian_erp_interviewing_resume_action" />
        </record>
        <record id="nantian_erp_processed_resume_action" model="ir.actions.act_window">
            <field name="name">我面试过的简历</field>
            <field name="res_model">nantian_erp.resume</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('interview_ids.interviewer','ilike',uid)]</field>
            <field name="view_id" ref="nantian_erp_resume_tree" />
        </record>
        <record id="nantian_erp_processed_resume_tree_action" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
             <field name="sequence" eval="1"/>
            <field name="view_id" ref="nantian_erp_resume_tree" />
            <field name="act_window_id" ref="nantian_erp_processed_resume_action" />
        </record>
        <record id="nantian_erp_processed_resume_from_action" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence" eval="10"/>
            <field name="view_id" ref="nantian_erp_pending_resume_form" />
            <field name="act_window_id" ref="nantian_erp_processed_resume_action" />
        </record>
        <record id="nantian_erp_processing_resume_action" model="ir.actions.act_window">
            <field name="name">待面试的简历</field>
            <field name="res_model">nantian_erp.resume</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('interviewer','=',uid)]</field>
            <field name="view_id" ref="nantian_erp_resume_tree" />
        </record>
        <record id="nantian_erp_processing_resume_tree_action" model="ir.actions.act_window.view">
            <field name="view_mode">tree</field>
             <field name="sequence" eval="1"/>
            <field name="view_id" ref="nantian_erp_resume_tree" />
            <field name="act_window_id" ref="nantian_erp_processing_resume_action" />
        </record>
        <record id="nantian_erp_processing_resume_form_action" model="ir.actions.act_window.view">
            <field name="view_mode">form</field>
            <field name="sequence" eval="10"/>
            <field name="view_id" ref="nantian_erp_pending_resume_form" />
            <field name="act_window_id" ref="nantian_erp_processing_resume_action" />
        </record>
        <menuitem id="nantian_erp_resume_menu" parent="nantian_erp_resume_root_menu" name="简历" action="nantian_erp_resume_action" sequence="1"/>
        <menuitem id="nantian_erp_interviewing_resume_menu" parent="nantian_erp_resume_root_menu" name="面试中的简历" action="nantian_erp_interviewing_resume_action" sequence="2"/>
        <menuitem id="nantian_erp_processed_resume_menu" parent="nantian_erp_resume_root_menu" name="面试过的简历" action="nantian_erp_processed_resume_action" sequence="3"/>
        <menuitem id="nantian_erp_processing_resume_menu" parent="nantian_erp_resume_root_menu" name="待面试的简历" action="nantian_erp_processing_resume_action" sequence="4"/>
        <!--<menuitem id="nantian_erp_resume_menu" parent="nantian_erp_resume_root_menu" name="简历" action="nantian_erp_resume_action" sequence="2"/>-->


        <record model="ir.ui.view" id="nantian_erp_offer_information_form">
            <field name="name">nantian_offer_information.form</field>
            <field name="model">nantian_erp.offer_information</field>
            <field name="arch" type="xml">
                <form string="offer" create="false">
                    <header>
                         <button name="agree" type="object" states='审批中' string="通过"  class="oe_highlight" />
                         <button name="disagree" type="object" states='审批中' string="淘汰"  class="oe_highlight" />
                         <field name="state" widget="statusbar"/>
                    </header>
                    <sheet>
                        <group>
                            <group >
                                <field name="resume_id" string="姓名"/>
                                <field name="phone" string="电话"/>
                                <field name="email" string="邮箱"/>
                                <field name="entrytime" string="办理入职时间"/>
                                <field name="entry_recruitment_id" string="入职岗位"/>
                                <field name="job_level" string="岗位级别"/>
                                <field name="recruitment_id" string="招聘岗位"/>
                            </group>
                            <group>
                                <field name="channel" string="渠道"/>
                                <field name="reason" string="招聘理由"/>
                                <field name="first_department_id" string="一级部门"/>
                                <field name="second_department_id" string="二级部门"/>
                                <field name="working_team_id" string="工作组"/>
                                <field name="contract_time" string="合同期限"/>
                                <field name="test_time" string="试用期限"/>
                                <field name="state"/>
                            </group>
                        </group>

                    </sheet>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="nantian_erp_offer_information_tree">
            <field name="name">nantian_erp_offer_information.tree</field>
            <field name="model">nantian_erp.offer_information</field>
            <field name="arch" type="xml">
                <tree create="false">
                    <field name="resume_id" string="姓名"/>
                    <field name="phone" string="电话"/>
                    <field name="email" string="邮箱"/>
                    <field name="entrytime" string="办理入职时间"/>
                    <field name="entry_recruitment_id" string="入职岗位"/>
                    <field name="job_level" string="岗位级别"/>
                    <field name="recruitment_id" string="招聘岗位"/>
                </tree>
            </field>
        </record>
        <record id="nantian_erp_offer_pending_information_action" model="ir.actions.act_window">
            <field name="name">待审批的offer信息</field>
            <field name="res_model">nantian_erp.offer_information</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('examiner_user','=',uid)]</field>
            <field name="view_id" ref="nantian_erp_offer_information_tree" />
        </record>
        <record id="nantian_erp_offer_pended_information_action" model="ir.actions.act_window">
            <field name="name">已审批的offer信息</field>
            <field name="res_model">nantian_erp.offer_information</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('user_id','=',None)]</field>
            <field name="view_id" ref="nantian_erp_offer_information_tree" />
        </record>
        <menuitem id="nantian_erp_pending_offer_menu" parent="nantian_erp_resume_root_menu" name="待审批的offer信息" action="nantian_erp_offer_pending_information_action" sequence="5" groups="nantian_erp.group_hr_manager"/>
        <menuitem id="nantian_erp_pended_offer_menu" parent="nantian_erp_resume_root_menu" name="已审批的offer信息" action="nantian_erp_offer_pended_information_action" sequence="6" groups="nantian_erp.group_hr_manager"/>
    </data>
</openerp>